<!DOCTYPE HTML>
<!--
	Template: Tessellate by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Succession: GEOL2031 Synchronous exercise 2</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header" class="dark">
				<header>
					<h1>GEOL2031: Palaeoecosystems</h1>
					<p>Synchronous Session 2: Life Histories and Succession</p>
				</header>
				<footer>
					<a href="#first" class="button scrolly">Begin</a>
				</footer>
			</section>

		<!-- First -->
			<section id="first" class="main">
				<header>
					<div class="container">
						<h2>Succession in practice</h2>
						<p>
              This session we'll be putting the quantitative approaches we met in the
              asynchronous session into practice.
            </p>
					</div>
				</header>
				<div class="content dark style1">
          <div class="container">
            <div class="row">
              <div class="col-12">
                <h2>Getting set up</h2>
                <p>
                  This session uses R.
                  Before the session, please:
                </p>
                <ul>
                  <li>
                    Download and install RStudio, available 
                     <a href="https://rstudio.com/products/rstudio/download/" 
                    target="_blank" rel="noreferrer noopener">directly</a>
                    or via
                    <a href="https://appsanywhere.durham.ac.uk/" title="Apps Anywhere" 
                    target="_blank" rel="noreferrer noopener">AppsAnywhere</a>.
                    <ul>
                    <li class="bulb">
                      If running Windows, you will also need RTools – select the
                      appropriate RStudio version in AppsAnywhere, or install it 
                      separately – Google will lead you to instructions.
                    </li>
                  </ul>
                  </li>
                  <li>
                    From within RStudio, install the packages 'devtools' and 'Ternary'
                    (case sensitive).
                    <ul>
                      <li>
                      Method 1: Use the toolbar Tools → Install Packages:
                        <ul>
                          <li>Install from: CRAN</li>
                          <li>Packages: devtools, Ternary</li>
                          <li>Install dependencies: ticked</li>
                        </ul>
                      </li>
                      <li>
                        Method 2: Run the command 
                        <code>install.packages("&Lt;PACKAGE NAME&Gt;")</code> 
                        in the console.
                      </li>
                    </li>
                  </ul>
                  <li>
                    Install the teaching package 'palec' by running the command
                    <code>devtools::install_github("smithlabdurham/palec")</code>
                    in the console.
                  
                  </li>
                </ul>
              </div>
            </div>
          </div>
				</div>
			</section>

		<!-- Second -->
			<section id="second" class="main">
				<header>
					<div class="container">
						<h2>Terebratulid survivorship</h2>
            <iframe title="A 3D model" width="640" height="480" src="https://sketchfab.com/models/b1d2aeba1a8846d29c792b293a2d3a6a/embed?autostart=0&amp;ui_controls=1&amp;ui_infos=1&amp;ui_inspector=1&amp;ui_stop=1&amp;ui_watermark=1&amp;ui_watermark_link=1" allow="autoplay; fullscreen; vr" ></iframe>
					</div>
				</header>
        <div class="content dark style2">
          <div class="container">
            <div class="row">
              <div class="col-4 col-12-narrow">
                <p>
                We're going to learn how to interpret life history by generating relevant
                plots from assemblage data, using R.
                </p>
                <p>
                Our data is drawn from Thayer (1977), and represents length measurements
                (in mm)
                from 42 terebratulid brachiopods that died between censuses conducted in
                1974 and 1975.
                </p>
                
                <p>
                I've created a simple point-and-click interface that makes it simple
                to construct such curves, which will make this exercise as straightforward
                as possible.
                You will obtain a deeper understanding of each exercise if you construct 
                the plots yourself, perhaps using your favourite spreadsheet editor, or 
                R itself (you'll find code to get you started in some of the exercises.)
                </p>
              </div>
              <div class="col-8 col-12-narrow featured">
                <iframe title="A 3D model" width="640" height="480" src="https://sketchfab.com/models/05ef47b9baee447d822683663435294d/embed?autostart=0&amp;ui_controls=1&amp;ui_infos=1&amp;ui_inspector=1&amp;ui_stop=1&amp;ui_watermark=1&amp;ui_watermark_link=1" frameborder="0" allow="autoplay; fullscreen; vr"></iframe>
              </div>
            </div>
            <div class="row">
              <div class="col-8 col-12-narrow">
                <h3>Getting the data</h3>
                <p>
                  Save the <a href="https://raw.githubusercontent.com/smithlabdurham/palec/main/inst/terebratulid.txt"
                  title="Terebratulid length measurements" target="_blank" rel="noopener">data file</a>
                  to your computer, and inspect its contents.
                  The format is simply a list of measurements, separated by spaces.
                </p>
              </div>
            </div>
            <div class="row">
              <div class="col-8 col-12-narrow">
                <h3>Open the histogram plotter</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-4 col-12-narrow">
                <ul>
                  <li>
                    In the RStudio console, type <code>palec::Histogram()</code>
                    to run the histogram 'app'.
                    <ul><li class="bulb">
                      You can resize the viewer, or click the 
                      <i class="fas fa-external-link-alt"></i> icon to launch the app in a 
                      separate web browser, to gain a little more space.
                    </li></ul>
                  </li>
                  <li>
                    Click 'Browse&hellip;' to load the data you saved to disk.
                    The histogram will update automatically, showing the frequency of
                    taxa with different lengths.
                  </li>
                  <li>Set the X Label to "length / mm".</li>
                </ul>
              </div>
              <div class="col-8 col-12-narrow">
                <span class="image featured"><img src="images/surv.png" 
                      style='padding: 1em; background: #ffffff; opacity: 0.9;'/></span>
              </div>
            </div>
            <div class="row">
              <div class="col-8 col-12-narrow">
                <p>
                  Save your plot in a convenient format using one of the download buttons,
                  then answer the questions below.  
                  Write your answers down before clicking on them for my answers.
                </p>
                
                <ul>
                  <li class="question" onclick="Reveal('survAns');">
                    Do the data fit a normal distribution, or are they
                    right-skewed (longer tail on the right) or left-skewed?
                  </li>
                  <li class="bulb">
                    Use the “Fit Normal” checkbox to overlay the normal distribution that
                    best matches the data.
                  </li>
                  <li class="bulb">
                    Adjusting the bin size (number of bins) sometimes gives a 
                    clearer perspective.
                  </li>
                  <li class="hidden answer" id="survAns">
                    <p>Would you agree that the 'hump' of the distribution is slightly to the 
                    right of the mean (i.e. the centre of the reference normal 
                    distribution)?  This would denote a slight left skew, consistent
                    with the slightly negative skewness value (&minus;0.2153).
                    </p>
                    <p>
                      Skewness values smaller than ±0.5 are typically considered to be 
                      negligible, so you would be justified in treating terebratulid
                      length as normally distrubtued.
                    </p>
                  </li>
                  <li class="question" onclick="Reveal('survIM');">
                    What does the skewness suggest about the level of infant mortality?
                  </li>
                  <li class="hidden answer" id="survIM">
                    If infant mortality were high, then most dead brachiopods would be 
                    little, so we'd expect the peak of the distribution to be on the 
                    left of the mean (i.e. positive skew).
                  </li>
                </ul>
              </div>              
            </div>
            
            <div class="row">
              <div class="col-8 col-12-narrow">
                <h3>Open the survivorship plotter</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-4 col-12-narrow">
                <ul>
                  <li>
                    In the RStudio console, press <kbd>Esc</kbd> to terminate the 
                    Histogram app, then launch the survivorship app by running
                    <code>palec::Survivorship()</code>.
                  </li>
                  <li>
                    Load the terebratulid data again.
                    The survivorship plot will update automatically, showing the
                    proportion of individuals that survived to each age (i.e. size).
                  </li>
                  <li>
                    Configure the plot as necessary.
                    <ul>
                      <li class="question" onclick="Reveal('trans');">
                        Which axes should be log-transformed?
                      </li>
                      <li class="hidden answer" id="trans">
                        If size is a linear approximation of age, then the <i>x</i> 
                        axis should be linear. 
                        As survivorship represents the <strong>rate</strong> of death 
                        at any given age, the <i>y</i> axis should be log transformed.
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
              <div class="col-8 col-12-narrow">
                <span class="image featured"><img src="images/hist.png" 
                      style='padding: 1em; background: #ffffff; opacity: 0.9;'/></span>
              </div>
            </div>
            <div class="row">
              <div class="col-8 col-12-narrow">
                <ul>
                  <li class="question" onclick="Reveal('HistType');">
                    Is survivorship curve Type I (convex), Type II (linear), or Type III (concave)?
                  </li>
                  <li class="hidden answer" id="HistType">
                    Type I: most juveniles survive to adulthood.
                  </li>
                </ul>
                <p>
                  Careful examination of the living terebratulids determined that older
                  individuals grow more slowly.
                  The age of an individual thus scales with log(<i>length</i>).
                </p>
                <p>Log-transform the <i>x</i>-axis, so that it represents a better proxy 
                  for age (rather than size).
                </p>
                <ul>
                  <li class="question" onclick="Reveal('HistX');">
                    Does this affect your interpretation?
                  </li>
                  <li class="hidden answer" id="HistX">
                    Our previous interpretation is now reinforced.
                    In this case, the transformed data give a more “honest” picture, as
                    our <i>x</i>-axis now corresponds more closely to age, which is what we
                    ideally want to plot – size is just a proxy.
                  </li>
                </ul>
              </div>
            </div>
            <div class="row">
              <div class="col-8 col-12-narrow">
                <h3>Bringing it together</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-8 col-12-narrow">
                <p>
                  Now let's combine these insights to consider the likely life history
                  of these terebratulids.
                </p>
              </div>
            </div>
            <div class="row">
              <div class="col-4 col-12-narrow">
                <ul>
                  <li class="question");">
                    Based on the information from the size-frequency analysis and the 
                    survivorship plot, are the terebratulids more likely to be:
                  </li>
                  <li class="option" onclick="Wrong(this, 'bit1');">
                     <i>r</i>-selected
                  </li>
                  <li class="option" onclick="Right(this, 'bit1');">
                    <i>K</i>-selected
                  </li>
                  <li id='bit1' class="hidden answer">
                    <i>K</i>-selected: low infant mortality implies high resource 
                    investment in a small number of offspring.
                  </li>
                </ul>
              </div>
              <div class="col-4 col-12-narrow">
                <ul>
                  <li class="question">
                    Are they likely to be associated with:
                  </li>
                  <li class="option" onclick="Wrong(this, 'bit2');">
                    Early successional communities
                  </li>
                  <li class="option" onclick="Right(this, 'bit2');">
                    Climax communities
                  </li>
                  <li id='bit2' class="hidden answer">
                    <i>K</i>-selected taxa tend to be specialist competitors, 
                    well suited to mature climax communities.
                  </li>
                </ul>
              </div>
              <div class="col-4 col-12-narrow">
                <ul>
                  <li class="question">
                    As such, would you expect the taxon’s original community to be:
                  </li>
                  <li class="option" onclick="Right(this, 'bit3');">
                    High diversity
                  </li>
                  <li class="option" onclick="Wrong(this, 'bit3');">
                    Low diversity
                  </li>
                  <li id='bit3' class="hidden answer">
                    Climax communities tend to have had time to reach a reasonably 
                    high species richness, with low dominance.
                  </li>
                </ul>
              </div>
            </div>
            <div class="row">
              <div class="col-8 col-12-narrow">
                <h3>Extension exercise</h3>
                <p>
                  If you've got time, use a text editor such as Notepad++ to create your
                  own <code>.txt</code> documents and load them into the plotters.
                  Can you create a dataset that correspond to each of the 
                  three survivorship curve trajectories?  
                  Does the skew of these datasets correspond to what you expect?
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>
        
			<section id="third" class="main">
        <header>
					<div class="container">
						<span class="image featured"><img src="images/P662406.jpg" 
            title="Credit: British Geological Survey, P662406"
            alt="Manod Bach" /></span>
						<h2>Llanvirn assemblages from Wales</h2>
					</div>
				</header>
				<div class="content dark style3">
					<div class="container">          
            <div class="row">
              <div class="col-8 col-12-narrow">
                <p>
                  Now we're going to look at assemblage-level data in order to 
                  explore changes in the successional stage of an entire community.
                </p>
                <p>
                  Our data (<a href="https://raw.githubusercontent.com/smithlabdurham/palec/main/inst/Llanvirn.txt"
                  title="Terebratulid length measurements" target="_blank" rel="noopener">download</a>)
                  are species counts from ten 5–10&nbsp;kg samples taken at intervals 
                  from an Ordovician sedimentary succession in Wales
                  (from Williams et al. 1981; see graphical log).
                </p>
                
                <p>
                Launch the <code>palec::Diversity()</code> app and load the 
                <code>Llanvirn.txt</code> data.
                Cross-reference the species with those shown below.
                </p>
              </div>
              
							<div class="col-4 col-12-narrow">
                <span class="image featured"><img src="images/Williams1981.png" 
                      style='padding: 15px; background: #ffffff; opacity: 0.9; max-height: 317px; max-width: 170px;'/></span>
              </div>
            </div>
            <div class="featured row">
							<div class="col-4 col-12-narrow">
								<section>
									<span class="feature-icon">
                    <span class="image icon"><img src="images/RUT328b.jpg"/></span>
                  </span>
									<p>The large trilobite <i>Basilicus</i></p>
								</section>
							</div>
							<div class="col-4 col-12-narrow">
								<section>
									<span class="feature-icon">
                    <span class="image icon"><img src="images/Hyalostelia.jpg" /></span>
                  </span>
									<p>The sponge <i>Hyalostelia</i></p>
								</section>
							</div>
							<div class="col-4 col-12-narrow">
								<section>
									<span class="feature-icon">
                    <span class="image icon"><img src="images/Bryozoans.jpg" /></span>
                  </span>
									<p><b>Bryo</b>zoans (<b>fene</b>strate, <b>dend</b>roid, 
                  and dome-shaped <i><b>Praso</b>pora</i>.</p>
								</section>
							</div>
            </div>
            <div class="featured row">
              <div class="col-4 col-12-narrow">
								<section>
									<span class="feature-icon">
                    <span class="image icon"><img src="images/sowerbyella.jpg" /></span>
                  </span>
                  </span>
									<p>The small <b>Br</b>achiopod <i>Sowerbyella</i></p>
								</section>
							</div>
							<div class="col-4 col-12-narrow">
								<section>
									<span class="feature-icon">
                    <span class="image icon"><img src="images/Dalmanella.jpg" /></span>
                  </span>
									<p>The medium-sized brachiopod <i>Dalmanella</i></p>
								</section>
							</div>
							<div class="col-4 col-12-narrow">
								<section>
									<span class="feature-icon">
                    <span class="image icon"><img src="images/Macrocoelia.jpg" /></span>
                  </span>
									<p>The large brachiopod <i>Macrocoelia</i></p>
								</section>
							</div>
						</div>
          
						<div class="row">
							<div class="col-8 col-12-narrow">
                <p>
                  Each column in the input dataset represents a different assemblage.
                  Start by selecting assemblage <strong>CD6</strong>.
                </p>
                <ul>
                  <li class="question" onclick="Reveal('div1');">
                    What are your initial impressions of the diversity and dominance of 
                    this assemblage? 
                    Which taxon/taxa would you expect to form the trophic nucleus?
                  </li>
                  <li class="hidden answer" id="div1">
                    <p>
                     Fair diversity (richness & evenness), slightly dominated by 
                     the trilobite <i>Basilicus</i> and the brachiopod <i>Sowerbyella</i>.
                    </p>
                  </li>
                  <li class="question" onclick="Reveal('div2');">
                    Looking for now just at the bar plot, mark each of these three 
                    communities on on the spectra below.  
                    Assemblage CD1 is labelled as an example of an assemblage that has
                    very low species richness and is strongly dominated.
                  </li>
                  <li class="hidden answer" id="div2">
                    <p>No right answer here, as it's a subjective exercise, but here are
                    observations that may have guided your hand:
                    </p>
                    <p> CD5 is super-dominated by one species, even though 
                    a fair number of rare species are present
                    </p>
                    <p>CD6 is quite rich, dominated by 2 species.
                    Do the bars look like they might exhibit a geometric distribution?
                    </p>
                    <p>CD7 has a low richness – perhaps just because few individuals 
                    have been collected?  Looks even.</p>

                  </li>
                  <li id="settings">
                    <button onclick="getColor('#56b4e911');" style='background-color:#56b4e9'>&bull;</button>
                    <button onclick="getColor('#e69f0011');" style='background-color:#e69f00'>&bull;</button>
                    <button onclick="getColor('#009e7311');" style='background-color:#009e73'>&bull;</button>
                    <button onclick="getColor('#3d3d3d11');" style='background-color:#3d3d3d'>&bull;</button>
                    <button onclick="getColor('#d2c2c788'); getSize(20);" style='background-color:rgba(255, 255, 255, 0.65); border: black; color: black;'>&bull;</button>
                  </li>
                  
                  <li class="bulb">
                    Your drawing will not persist; for a blank canvas, just refresh the page.
                  </li>
                </ul>
              </div>
              <div class="row">
                <div class='col-8 col-12-narrow'>
                  <style>                          
                    #settings { display: block; text-align:center; padding: 0.5em;}
                    #paint {border: 1px solid black;
                            background-color: #d2c2c7;
                            background-image: url('images/diversity.svg');
                            background-repeat: no-repeat;
                            background-position: center;
                            width: 600px;
                            height: 80px;
                            margin-left: auto; margin-right: auto; display: block;}
                  </style>
                  
                  <div id="sketch" style="margin-top: 1em;">
                    <canvas id="paint"></canvas>
                  </div>

                  
                  <script> 
                  var canvas = document.getElementById('paint');
                  var ctx = canvas.getContext('2d');
                   
                  var sketch = document.getElementById('sketch');
                  var sketch_style = getComputedStyle(sketch);
                  canvas.width = 600;
                  canvas.height = 80;

                  var mouse = {x: 0, y: 0};
                   
                  /* Mouse Capturing Work */
                  canvas.addEventListener('mousemove', function(e) {
                    mouse.x = e.pageX - this.getBoundingClientRect().left - window.pageXOffset;
                    mouse.y = e.pageY - this.getBoundingClientRect().top - window.pageYOffset;
                  }, false);

                  /* Drawing on Paint App */
                  ctx.lineJoin = 'round';
                  ctx.lineCap = 'round';
                  ctx.lineWidth = '4';

                  ctx.strokeStyle = "#56b4e911";
                  function getColor(colour){
                    ctx.strokeStyle = colour;
                    ctx.lineWidth = '4';
                  }
                  function getSize(size){ctx.lineWidth = size;}          
         
                  canvas.addEventListener('mousedown', function(e) {
                      ctx.beginPath();
                      ctx.moveTo(mouse.x, mouse.y);
                   
                      canvas.addEventListener('mousemove', onPaint, false);
                  }, false);
                   
                  canvas.addEventListener('mouseup', function() {
                      canvas.removeEventListener('mousemove', onPaint, false);
                  }, false);
                   
                  var onPaint = function() {
                      ctx.lineTo(mouse.x, mouse.y);
                      ctx.stroke();
                  };
                  </script>
              </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <p>
                    Now we're going to explore some of the quantitative indices of 
                    diversity, to see how they measure up against the intuitive
                    assessment that you just made.
                  </p>
                  <p>
                    Look at the diversity indices for each asseblage, displayed
                    beneath the bar plot.
                  </p>
                  <ul>
                    <li class="question" onclick="Reveal('SR');">
                      Rank assemblages CD5–CD7 from least to most diverse, based on their
                      <strong>Species richness</strong> (S).
                    </li>
                    <li class="hidden answer" id="SR">
                      Least diverse &Lt; CD7 (S=8) | CD5 (S = 14) | CD6 (S = 15) &Gt; Most diverse
                    </li>
                    <li class="question" onclick="Reveal('SRbad');">
                      Do you think that this metric is a reliable measure of diversity?
                    </li>
                    <li class="bulb">
                      Hint: look at the number of individuals sampled in each assemblage.
                    </li>
                    <li class="hidden answer" id="SRbad">
                      <i>n</i> is tiny in CD7, and huge in CD6.  
                      Clearly if you sample more specimens you are likely to find 
                      more species.
                    </li>
                 </ul>
            </div>
					</div>
				</div>
			</section>

			<section id="further-reading" class="main">
				<header>
					<div class="container">
						<h2>References</h2>
					</div>
				</header>
        <div class="container">
          <div class="content style4">
            <ul>
              <li class="reference">
                THAYER, C. W. 1977. 
                Recruitment, growth, and mortality of a living articulate brachiopod, with implications for the interpretation of survivorship curves.
                <i>Paleobiology</i>, 3, 98–109.
              </li>
              <li class="reference">
                WILLIAMS, A., LOCKLEY, M. G. and HURST, J. M. 1981.
                Benthic palaeocommunities represented in the Ffairfach Group and Coeval Ordovician successions of Wales.
                <i>Palaeontology</i>, 24, 661–694.
              </li>
            </ul>
            See the readling list link on duo for access to these resources through the library.
          </div>
        </div>
      </section>


		<!-- Footer -->
			<section id="footer">
				<ul class="icons">
					<li><a href="#" class="icon solid fa-arrow-up"><span class="label">Top</span></a></li>
					<li><a href="https://duo.dur.ac.uk/webapps/blackboard/content/listContent.jsp?course_id=_91139_1&content_id=_6163742_1" class="icon solid fa-university"><span class="label">DUO</span></a></li>
				</ul>
				<div class="copyright">
					<ul class="menu">
						<li>&copy; 2021 <a href="http://smithlabdurham.github.io/">Martin R. Smith</a></li>
            <!--<li>All content is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>, except where noted.</li>-->
            <li>Design: <a href="http://html5up.net" rel='noopener'>HTML5 UP</a></li>
					</ul>
				</div>
			</section>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>